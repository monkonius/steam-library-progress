{% extends 'layout.html' %}

{% block main %}

<section>
    <div class="py-12 px-4">
        <div class="md:max-w-3xl mx-auto" id="list">
        <h2 class="text-center mb-2">Game List</h2>
            {% for todo_item in todo %}
            <div class="list-row">
                <span class="md:text-lg w-1/2">{{ todo_item.game }}</span>
                <form class="list-form" action="{{ url_for('views.gamelist') }}" method="post">
                    <select name="state" class="p-1 rounded-md">
                        {% for state in states %}
                        {% if state == todo_item.state.value %}
                            <option selected value="{{ todo_item.state.value }}">{{ todo_item.state.value }}</option>
                        {% else %}
                            <option value="{{ state }}">{{ state }}</option>
                        {% endif %}
                        {% endfor %}
                    </select>
                    <input type="hidden" name="id" value="{{ todo_item.id }}">
                    <input type="submit" value="Submit" class="list-edit">
                </form>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

{% endblock %}